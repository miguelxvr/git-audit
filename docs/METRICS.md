# Metrics Reference

Complete reference for all **86 metrics** generated by git-audit with SPACE Framework implementation.

## Overview

Git-audit generates comprehensive developer metrics across seven categories:

1. **Identity Metrics** (3) - Author identification and AGES level
2. **Commit Metrics** (11) - Commit activity and classification
3. **Line Metrics** (24) - Lines changed by file category
4. **File Metrics** (30) - Files changed by operation and category
5. **Calculated Metrics** (9) - Derived indicators (ratios, averages, frequencies)
6. **Collaboration Metrics** (3) - Code review and team metrics
7. **SPACE Framework Scores** (6) - Normalized productivity dimensions

**Total: 86 metrics**

## Complete Metrics Table

### Identity Metrics (3)

| Metric | Type | Description | Range |
|--------|------|-------------|-------|
| `author_name` | String | Author's full name from Git | N/A |
| `author_email` | String | Author's email address (unique identifier) | N/A |
| `ages_level` | String | AGES level (I/II/III/IV) if roster provided | I-IV |

### Commit Metrics (11)

| Metric | Type | Formula/Description | Range | Interpretation |
|--------|------|---------------------|-------|----------------|
| `commits_non_merge` | Count | Regular commits (excluding merges) | 0+ | Primary activity indicator |
| `commits_merge` | Count | Merge commits | 0+ | Integration/coordination work |
| `commits_bugfix` | Count | Bug fix commits (detected from message) | 0+ | Maintenance/quality work |
| `commits_feature` | Calculated | Feature commits = `non_merge - bugfix` | 0+ | Development velocity |
| `commits_total` | Sum | `commits_non_merge + commits_merge` | 0+ | Overall commit activity |
| `commits_bugfix_ratio` | Percentage | `(bugfix / non_merge) × 100` | 0-100 | % maintenance work |
| `commits_coauthored` | Count | Pair programming commits (Co-authored-by) | 0+ | Joint work indicator |
| `commits_freq` | Rate | `non_merge / days_active` | 0.0+ | Commits per active day |
| `commits_team_pct` | Percentage | % of team's total commits | 0-100 | Team contribution share |
| `commits_first_date` | Date | First commit date | YYYY-MM-DD | When developer joined |
| `commits_last_date` | Date | Last commit date | YYYY-MM-DD | Last contribution date |

### Line Metrics (24)

Lines changed across all file categories (3 metrics per category: added, deleted, total).

**Aggregate Totals**:
| Metric | Formula | Description |
|--------|---------|-------------|
| `lines_added` | Sum of all `*_added` | Total lines added |
| `lines_deleted` | Sum of all `*_deleted` | Total lines deleted |
| `lines_total` | `added + deleted` | Total code churn |

**By File Category** (7 categories × 3 operations = 21 metrics):

| Category | Added | Deleted | Total | Weight | Description |
|----------|-------|---------|-------|--------|-------------|
| **Test** | `lines_test_added` | `lines_test_deleted` | `lines_test_total` | 70% | Test files (.test.js, .spec.py, test plans) |
| **Database** | `lines_database_added` | `lines_database_deleted` | `lines_database_total` | 80% | Database files (.sql, .mwb, schemas) |
| **Architecture** | `lines_architecture_added` | `lines_architecture_deleted` | `lines_architecture_total` | 90% | Architecture diagrams (.puml, .drawio) |
| **Management** | `lines_management_added` | `lines_management_deleted` | `lines_management_total` | 60% | Project artifacts (backlog, WBS, plans) |
| **Code** | `lines_code_added` | `lines_code_deleted` | `lines_code_total` | 100% | Source code (.py, .js, .java, etc.) |
| **Docs** | `lines_docs_added` | `lines_docs_deleted` | `lines_docs_total` | 50% | Documentation (.md, README, etc.) |
| **Config** | `lines_config_added` | `lines_config_deleted` | `lines_config_total` | 30% | Configuration (.json, .yaml, Makefile) |

**Note**: Weights used in SPACE Activity dimension calculation.

### File Metrics (30)

Files changed across all categories and operations.

**Aggregate Totals**:
| Metric | Formula | Description |
|--------|---------|-------------|
| `files_added` | Sum of all `*_added` | New files created |
| `files_deleted` | Sum of all `*_deleted` | Files removed |
| `files_modified` | Sum of all `*_modified` | Existing files modified |
| `files_binary` | Count | Binary files changed (images, assets) |
| `files_total` | `added + deleted + modified + binary` | Total file operations |
| `files_touched` | Distinct count | Unique files modified (codebase coverage) |

**By File Category** (7 categories × 4 operations = 28 metrics):

| Category | Added | Deleted | Modified | Total | Weight |
|----------|-------|---------|----------|-------|--------|
| **Test** | `files_test_added` | `files_test_deleted` | `files_test_modified` | `files_test_total` | 70% |
| **Database** | `files_database_added` | `files_database_deleted` | `files_database_modified` | `files_database_total` | 80% |
| **Architecture** | `files_architecture_added` | `files_architecture_deleted` | `files_architecture_modified` | `files_architecture_total` | 90% |
| **Management** | `files_management_added` | `files_management_deleted` | `files_management_modified` | `files_management_total` | 60% |
| **Code** | `files_code_added` | `files_code_deleted` | `files_code_modified` | `files_code_total` | 100% |
| **Docs** | `files_docs_added` | `files_docs_deleted` | `files_docs_modified` | `files_docs_total` | 50% |
| **Config** | `files_config_added` | `files_config_deleted` | `files_config_modified` | `files_config_total` | 30% |

### Calculated Metrics (9)

| Metric | Type | Formula | Range | Interpretation |
|--------|------|---------|-------|----------------|
| `lines_per_commit_avg` | Average | `lines_total / commits_non_merge` | 0.0+ | Optimal: 50-200 lines |
| `files_per_commit_avg` | Average | `files_total / commits_non_merge` | 0.0+ | Optimal: 1-3 files (focused) |
| `commits_freq` | Rate | `commits_non_merge / days_active` | 0.0+ | Optimal: 1-2 per active day |
| `lines_churn_ratio` | Ratio | `lines_deleted / lines_added` | 0.0+ | Lower = more new code (<0.3 ideal) |
| `days_active` | Count | Distinct days with commits | 0+ | Consistency measure |
| `days_span` | Duration | Days from first to last commit | 0+ | Project tenure |
| `lines_team_pct` | Percentage | `(lines_total / team_total) × 100` | 0-100 | Code volume share |
| `files_team_pct` | Percentage | `(files_touched / team_files) × 100` | 0-100 | Codebase coverage share |
| `reviews_given` | Count | Code reviews performed (Reviewed-by) | 0+ | Review participation |

### Collaboration Metrics (3)

| Metric | Source | Description | Impact |
|--------|--------|-------------|--------|
| `reviews_given` | Reviewed-by, Acked-by trailers | Times author reviewed others' code | 30% of Communication score |
| `commits_coauthored` | Co-authored-by trailers | Pair programming contributions | 30% of Communication score |
| `commits_team_pct` | Calculated | Contribution share relative to team | Context for all metrics |

### SPACE Framework Scores (6)

All SPACE scores are normalized to 0.0-1.0 scale (higher = better).

| Metric | Dimension | Calculation | Weight in Overall | Description |
|--------|-----------|-------------|-------------------|-------------|
| `space_satisfaction` | Satisfaction | From external survey (14 questions) | 15% | Developer well-being and fulfillment |
| `space_performance` | Performance | Weighted: 30% churn + 20% size + 20% focus + 15% bugfix + 15% merge | 20% | Code quality from Git patterns |
| `space_activity` | Activity | Weighted: 40% commits + 30% lines + 20% files + 10% consistency | 25% | Volume and consistency |
| `space_communication` | Communication | Weighted: 30% reviews + 30% ownership + 25% integration + 15% engagement | 25% | Collaboration and knowledge sharing |
| `space_efficiency` | Efficiency | Weighted: 35% smoothness + 30% focus + 20% response + 15% rework | 15% | Workflow effectiveness |
| `space_overall` | Overall | Weighted average of all 5 dimensions | 100% | Composite SPACE score |

## SPACE Framework Detail

### Satisfaction (15% weight)

**Source**: External survey CSV (`--survey satisfaction.csv`)

**Format**: `author_email,q1,q2,...,q14` (1-5 Likert scale)

**Calculation**:
```
Job Satisfaction (Q1-3):   30% weight, max 15 points
Wellbeing (Q4-7):          25% weight, max 20 points (Q4-5 reverse scored)
Growth (Q8-11):            25% weight, max 20 points
Team Culture (Q12-14):     20% weight, max 15 points

satisfaction = 0.30×(Q1+Q2+Q3)/15 + 0.25×(Q4+Q5+Q6+Q7)/20 +
               0.25×(Q8+Q9+Q10+Q11)/20 + 0.20×(Q12+Q13+Q14)/15
```

**Default**: 0.0 if no survey data provided

**Interpretation**:
- 0.7-1.0: High satisfaction, engaged developer
- 0.5-0.7: Moderate satisfaction
- 0.0-0.5: Low satisfaction, may indicate burnout risk

### Performance (20% weight)

**Components**:

1. **Churn Quality (30%)**:
   - Score 1.0 if `churn_ratio < 0.3` (mostly new code)
   - Degrades to 0.2 for `churn_ratio > 1.0` (excessive rework)

2. **Commit Size (20%)**:
   - Score 1.0 for 50-200 lines per commit (optimal for review)
   - Lower score for too small (<50) or too large (>200)

3. **Commit Focus (20%)**:
   - Score 1.0 for ≤3 files per commit (focused changes)
   - Degrades for unfocused commits (>5 files)

4. **Bugfix Balance (15%)**:
   - Score 1.0 for 15-35% bugfix ratio (balanced maintenance)
   - Lower score for <15% (may neglect debt) or >35% (purely reactive)

5. **Merge Quality (15%)**:
   - Score 1.0 for 5-15% merge ratio (active integration)
   - Lower score for extremes

**Interpretation**:
- 0.7-1.0: High quality practices (low churn, focused commits, balanced work)
- 0.5-0.7: Good practices with room for improvement
- 0.0-0.5: Quality concerns (large unfocused commits, high churn, or imbalanced work)

### Activity (25% weight)

**Components**:

1. **Commits (40%)**: Tri-method normalized `commits_non_merge`
2. **Lines (30%)**: Tri-method normalized weighted lines
   - Weighted by file category (code 100%, test 70%, docs 50%, config 30%, etc.)
3. **Files (20%)**: Tri-method normalized weighted files
4. **Consistency (10%)**: `(days_active / days_span) × 0.6 + min(commits_freq / 2.0, 1.0) × 0.4`

**Tri-Method Normalization**:
- Relative: `(value - min) / (max - min)`
- Absolute: `(value - p25) / (p90 - p25)` where p25=25th percentile, p90=90th percentile
- Statistical: percentile rank within team
- **Final**: average of all three methods

**Interpretation**:
- 0.7-1.0: High activity, consistent contributor
- 0.5-0.7: Moderate activity
- 0.0-0.5: Low activity (junior, part-time, or specialized role)

### Communication (25% weight)

**Components**:

1. **Review Participation (30%)**:
   - Reviews: `min(reviews_given / 10.0, 1.0)` weighted 70%
   - Co-authorship: `min(coauthored / 5.0, 1.0)` weighted 30%

2. **Shared Ownership (30%)**:
   - Score 1.0 if 30-70% of author's files also touched by others
   - Lower score for silos (<30%) or lack of focus (>70%)

3. **Integration Activity (25%)**:
   - Tri-method normalized merge commits
   - Indicates active participation in code integration

4. **Sustained Engagement (15%)**:
   - `author_span / project_duration` (how long developer stayed)

**Interpretation**:
- 0.7-1.0: Highly collaborative (active reviewer, shared ownership, sustained engagement)
- 0.5-0.7: Moderate collaboration
- 0.0-0.5: Siloed work or new to project

### Efficiency (15% weight)

**Components**:

1. **Workflow Smoothness (35%)**: Consistent commit sizing (same as Performance commit size)
2. **Focused Work (30%)**: 1-3 files per commit (same as Performance focus)
3. **Response Time Proxy (20%)**: Commit frequency 1-2 per active day optimal
4. **Rework Minimization (15%)**: `max(0.2, 1.0 - churn_ratio)` if churn ≤ 1.0

**Note**: Efficiency is weakest SPACE dimension for Git-only measurement. True efficiency requires CI/CD metrics (build time, deployment frequency) and issue tracker integration (cycle time).

**Interpretation**:
- 0.7-1.0: Efficient workflow (consistent patterns, focused commits, minimal rework)
- 0.5-0.7: Moderate efficiency
- 0.0-0.5: Workflow issues (inconsistent commits, excessive rework, or reactive work patterns)

### Overall SPACE Score

**Formula**:
```
overall = 0.15×satisfaction + 0.20×performance + 0.25×activity +
          0.25×communication + 0.15×efficiency
```

**Interpretation**:
- **0.7-1.0**: Excellent across all dimensions, top performer
- **0.5-0.7**: Solid contributor with balanced performance
- **0.3-0.5**: Developing contributor or specialized role
- **0.0-0.3**: May need support or role adjustment

## File Category Definitions

### Test Files (70% weight)
**Extensions**: `.test.js`, `.test.ts`, `.test.jsx`, `.test.tsx`, `.spec.js`, `.spec.ts`, `.spec.py`, `.test.py`
**Patterns**: `test-plan`, `test-report`, `test-cases`, `test-strategy`
**Rationale**: Tests are important for quality but derivative of implementation code.

### Database Files (80% weight)
**Extensions**: `.sql`, `.mwb` (MySQL Workbench), `.erd`, `.dbml`, `.ddl`, `.dml`
**Patterns**: `schema`, `migrations`, `db-diagram`, `database`, `entities`
**Rationale**: Database design is technical but often template-driven or generated.

### Architecture Files (90% weight)
**Extensions**: `.puml` (PlantUML), `.drawio`, `.archimate`, `.uml`, `.dia`
**Patterns**: `architecture`, `component-diagram`, `deployment-diagram`, `package-diagram`, `class-diagram`, `sequence-diagram`
**Rationale**: Architecture artifacts represent high-level design work, nearly equivalent to code.

### Management Files (60% weight)
**Extensions**: None (patterns only)
**Patterns**: `backlog`, `wbs`, `release-plan`, `sprint-plan`, `communication-plan`, `risk-plan`, `risk-response`, `product-backlog`, `user-stories`, `use-cases`
**Rationale**: Project management artifacts are valuable but less technical than code.

### Code Files (100% weight)
**Extensions**: `.py`, `.js`, `.jsx`, `.ts`, `.tsx`, `.java`, `.c`, `.cpp`, `.h`, `.hpp`, `.cs`, `.go`, `.rs`, `.rb`, `.php`, `.swift`, `.kt`, `.scala`, `.m`, `.dart`, `.lua`, `.sh`, `.bash`, `.html`, `.css`, `.scss`, `.vue`, and 20+ more
**Rationale**: Full technical weight for source code.

### Documentation Files (50% weight)
**Extensions**: `.md`, `.txt`, `.rst`, `.adoc`, `.tex`, `.pdf`, `.doc`, `.docx`
**Patterns**: `readme`, `license`, `contributing`, `changelog`, `authors`
**Rationale**: Documentation is valuable but less technical than code.

### Configuration Files (30% weight)
**Extensions**: `.json`, `.yaml`, `.yml`, `.xml`, `.toml`, `.ini`, `.cfg`, `.conf`, `.env`, `.gitignore`, `.dockerignore`
**Patterns**: `makefile`, `dockerfile`, `rakefile`, `gemfile`, `vagrantfile`, `package.json`, `cargo.toml`
**Rationale**: Configuration is necessary but often mechanical (copy-paste, generated).

## Bug Fix Detection

Git-audit automatically detects bug fix commits using commit message patterns.

**Patterns Recognized**: `fix`, `bug`, `issue #`, `hotfix`, `patch`, `resolve`, `closes #`, `fixes #`, `repair`, `correct`, `defect`

**Metrics Generated**:
- `commits_bugfix` - Count of bug fix commits
- `commits_feature` - Non-merge, non-bugfix commits
- `commits_bugfix_ratio` - Percentage maintenance work

**Performance Impact**: Bugfix ratio contributes 15% to Performance score. Optimal range is 15-35%.

## Code Review Participation

Git-audit credits code reviewers and pair programmers by parsing commit message trailers.

**Recognized Trailers**:
- `Reviewed-by: Name <email>` - Explicit review credit
- `Co-authored-by: Name <email>` - Pair programming or joint work
- `Acked-by: Name <email>` - Acknowledgment of review

**Metrics Generated**:
- `reviews_given` - Times this developer reviewed others' code
- `commits_coauthored` - Pair programming contributions

**Communication Impact**: Review participation contributes 30% to Communication score.

## AGES-Specific Features

### Student Roster Integration
**Usage**: `--roster students.csv`
**Format**: `student_name,ages_level` (I/II/III/IV)
**Output**: Adds `ages_level` column for cohort analysis

### GitHub Account Aggregation
**Usage**: `--mapping github_mapping.csv`
**Format**: `student_name,author_email`
**Behavior**: Aggregates all commits from multiple emails into single student record
**Rationale**: Students often use multiple emails (personal, university)

### Satisfaction Survey
**Usage**: `--survey satisfaction.csv`
**Format**: `author_email,q1,q2,...,q14` (1-5 Likert scale)
**Output**: Adds `space_satisfaction` score to complete SPACE framework

## Limitations

### What Git-audit Does NOT Measure
- ❌ Code correctness, performance, security (requires testing/analysis tools)
- ❌ Non-code contributions (design, mentoring, meetings)
- ❌ Developer experience (flow state, interruptions, cycle time)
- ❌ Business value (user impact, revenue)
- ❌ Work-in-progress or abandoned branches

### Known Biases
- **Commit granularity**: Frequent small commits vs. batched commits (mitigated by commit size metrics)
- **Role differences**: Junior vs. senior expectations (requires human judgment)
- **Repository age**: Early contributors accumulate more metrics (mitigated by frequency/consistency metrics)
- **File type inflation**: Now mitigated by differential weighting (code 100%, docs 50%, config 30%)

### Ethical Use
**✅ Appropriate**: Team retrospectives, identifying mentoring opportunities, recognizing diverse contributions, spotting process issues

**❌ Inappropriate**: Performance reviews as sole factor, compensation decisions, hiring/firing based purely on metrics, comparing across different teams/projects

## References

**SPACE Framework**:
- Forsgren, N., Storey, M. A., Maddila, C., Zimmermann, T., Houck, B., & Butler, J. (2021). The SPACE of Developer Productivity. *ACM Queue*, 19(1), 20-48.

**For implementation methodology and design decisions, see [METHODOLOGY.md](METHODOLOGY.md).**

**For academic research and complete bibliography (50+ citations), see [ACADEMIC_RESEARCH.md](ACADEMIC_RESEARCH.md).**

---

**Last Updated**: October 2025
**Git-audit Version**: SPACE Framework with 86 metrics, 7 file categories, tri-method normalization, and AGES integration
