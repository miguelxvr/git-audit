# Metrics Reference

Complete reference for all **68 metrics** generated by git-audit, enhanced with academic research-backed improvements.

## Overview

Git-audit generates comprehensive developer metrics across five categories:

1. **Base Metrics** (21) - Direct measurements from Git data
2. **Aggregated Metrics** (15) - Sums and totals across categories
3. **Calculated Metrics** (7) - Derived indicators (ratios, averages, frequencies)
4. **Relative Metrics** (3) - Team-context percentages
5. **Timeline Metrics** (2) - Date ranges
6. **Collaboration Metrics** (2) - Code review and pair programming
7. **Evaluation Indicators** (13) - Normalized 0.0-1.0 scores
8. **Work Classification** (3) - Bug fixes vs. features
9. **Overall Score** (1) - Weighted aggregate

**Total: 68 metrics**

## Metrics Table

All metrics organized by domain for easy reference:

| Metric | Type | Formula/Description | Range/Scale | Interpretation |
|--------|------|---------------------|-------------|----------------|
| **Author Information** |
| `author_name` | String | Author's full name from Git | N/A | Display name |
| `author_email` | String | Author's email address | N/A | Unique identifier |
| **Commits Domain** |
| `commits_non_merge` | Count [Base] | Regular commits (excluding merges) | 0+ | Higher = more contributions |
| `commits_merge` | Count [Base] | Merge commits | 0+ | Integration/coordination work |
| `commits_bugfix` | Count [Base] | Bug fix commits (detected from message) | 0+ | Maintenance/quality work |
| `commits_feature` | Count [Calculated] | Feature commits (`non_merge - bugfix`) | 0+ | Development velocity |
| `commits_total` | Sum [Aggregated] | `commits_non_merge + commits_merge` | 0+ | Overall commit activity |
| `commits_bugfix_ratio` | Percentage [Calculated] | `(bugfix / non_merge) * 100` | 0-100 | % maintenance work |
| `commits_coauthored` | Count [Collaboration] | Pair programming commits | 0+ | Joint work indicator |
| `commits_freq` | Rate [Calculated] | `non_merge / days_active` | 0.0+ | Commits per day |
| `commits_team_pct` | Percentage [Relative] | % of team's total commits | 0-100 | Team contribution share |
| `commits_first_date` | Date [Timeline] | First commit date | YYYY-MM-DD | When developer joined |
| `commits_last_date` | Date [Timeline] | Last commit date | YYYY-MM-DD | Last contribution date |
| **Lines Domain - Totals** |
| `lines_added` | Count [Base] | Lines added across all commits | 0+ | Volume of additions |
| `lines_deleted` | Count [Base] | Lines deleted across all commits | 0+ | Volume of deletions/refactoring |
| `lines_total` | Sum [Aggregated] | `lines_added + lines_deleted` | 0+ | Total code churn |
| `lines_per_commit_avg` | Average [Calculated] | `lines_total / commits_non_merge` | 0.0+ | Optimal: 50-500 |
| `lines_churn_ratio` | Ratio [Calculated] | `lines_deleted / lines_added` | 0.0+ | Lower is better (<0.2 = new code) |
| `lines_team_pct` | Percentage [Relative] | % of team's total lines | 0-100 | Code volume share |
| **Lines Domain - By File Type** |
| `lines_code_added` | Count [Base] | Code lines added | 0+ | Source code additions |
| `lines_code_deleted` | Count [Base] | Code lines deleted | 0+ | Source code deletions |
| `lines_code_total` | Sum [Aggregated] | `code_added + code_deleted` | 0+ | Total code churn |
| `lines_docs_added` | Count [Base] | Documentation lines added | 0+ | Docs additions |
| `lines_docs_deleted` | Count [Base] | Documentation lines deleted | 0+ | Docs deletions |
| `lines_docs_total` | Sum [Aggregated] | `docs_added + docs_deleted` | 0+ | Total docs churn |
| `lines_config_added` | Count [Base] | Configuration lines added | 0+ | Config additions |
| `lines_config_deleted` | Count [Base] | Configuration lines deleted | 0+ | Config deletions |
| `lines_config_total` | Sum [Aggregated] | `config_added + config_deleted` | 0+ | Total config churn |
| **Files Domain - Totals** |
| `files_added` | Count [Base] | New files created | 0+ | New features/modules |
| `files_deleted` | Count [Base] | Files removed | 0+ | Cleanup/refactoring |
| `files_modified` | Count [Base] | Existing files modified | 0+ | Updates to existing code |
| `files_binary` | Count [Base] | Binary files changed | 0+ | Assets/images (non-code) |
| `files_total` | Sum [Aggregated] | `added + deleted + modified + binary` | 0+ | Breadth of file operations |
| `files_touched` | Count [Base] | Distinct files modified | 0+ | Codebase coverage |
| `files_per_commit_avg` | Average [Calculated] | `files_total / commits_non_merge` | 0.0+ | Optimal: 1-3 (focused) |
| `files_team_pct` | Percentage [Relative] | % of team's files | 0-100 | Codebase coverage share |
| **Files Domain - By File Type** |
| `files_code_added` | Count [Base] | Code files added | 0+ | New source files |
| `files_code_deleted` | Count [Base] | Code files deleted | 0+ | Source file cleanup |
| `files_code_modified` | Count [Base] | Code files modified | 0+ | Source file updates |
| `files_code_total` | Sum [Aggregated] | `code_added + code_deleted + code_modified` | 0+ | Total code files |
| `files_docs_added` | Count [Base] | Documentation files added | 0+ | New docs |
| `files_docs_deleted` | Count [Base] | Documentation files deleted | 0+ | Docs cleanup |
| `files_docs_modified` | Count [Base] | Documentation files modified | 0+ | Docs updates |
| `files_docs_total` | Sum [Aggregated] | `docs_added + docs_deleted + docs_modified` | 0+ | Total docs files |
| `files_config_added` | Count [Base] | Configuration files added | 0+ | New configs |
| `files_config_deleted` | Count [Base] | Configuration files deleted | 0+ | Config cleanup |
| `files_config_modified` | Count [Base] | Configuration files modified | 0+ | Config updates |
| `files_config_total` | Sum [Aggregated] | `config_added + config_deleted + config_modified` | 0+ | Total config files |
| **Days Domain** |
| `days_active` | Count [Base] | Distinct days with commits | 0+ | Consistency measure |
| `days_span` | Duration [Calculated] | Days from first to last commit | 0+ | Project tenure |
| **Collaboration** |
| `reviews_given` | Count [Collaboration] | Code reviews performed | 0+ | Review participation |

## Evaluation Indicators Table

All evaluation indicators normalized to 0.0-1.0 scale (higher = better performance):

| Indicator | Dimension | Method | Description | Factors/Formula |
|-----------|-----------|--------|-------------|-----------------|
| **Productivity** | | | **Measures volume and consistency** |
| `prod_rel` | Productivity | Team min-max | Compared to team best/worst | - |
| `prod_abs` | Productivity | Dynamic thresholds | Against team percentiles (90th = excellent, 25th = poor) | Adaptive |
| `prod_stat` | Productivity | Percentile | Ranking within team | - |
| `prod_score` | Productivity | **Average** | Overall productivity score | **Avg of above 3 methods** |
| | | | *Weighted Factors:* | 40% commits, 30% lines (weighted by type), 20% files (weighted by type), 10% days |
| | | | *File Type Weights:* | Code: 100%, Docs: 50%, Config: 30% |
| **Quality** | | | **Measures code quality practices** |
| `quality_rel` | Quality | Team min-max | Compared to team best/worst | - |
| `quality_abs` | Quality | Thresholds | Against benchmarks (churn <0.2, size 50-500) | - |
| `quality_stat` | Quality | Percentile | Ranking within team | - |
| `quality_score` | Quality | **Average** | Overall quality score | **Avg of above 3 methods** |
| | | | *Factors:* | 30% churn, 20% size, 20% files/commit, 15% merge ratio, 15% bugfix ratio |
| | | | *Bugfix Optimal:* | 15-35% (shows responsiveness without being all reactive) |
| **Collaboration** | | | **Measures team integration** |
| `collab_rel` | Collaboration | Team min-max | Compared to team best/worst | - |
| `collab_abs` | Collaboration | Thresholds | Against benchmarks (≥5 merges, ≥50% shared) | - |
| `collab_stat` | Collaboration | Percentile | Ranking within team | - |
| `collab_score` | Collaboration | **Average** | Overall collaboration score | **Avg of above 3 methods** |
| | | | *Factors:* | 30% merge activity, 30% shared files, 20% code review, 20% span |
| **Overall** | | | **Aggregate performance** |
| `overall_score` | Overall | Weighted avg | Composite of all dimensions | 33.3% productivity, 33.3% quality, 33.4% collaboration |

## File Type Categorization

Git-audit categorizes all files into one of three types for more accurate productivity measurement:

### Code Files (100% weight)
Source code files: `.py`, `.js`, `.jsx`, `.ts`, `.tsx`, `.java`, `.c`, `.cpp`, `.cs`, `.go`, `.rs`, `.rb`, `.php`, `.swift`, `.kt`, `.scala`, `.sh`, `.sql`, `.html`, `.css`, `.vue`, `.ex`, `.clj`, `.hs`, `.elm`, `.ml`, `.fs`, `.vb`, and many more.

### Documentation Files (50% weight)
Documentation: `.md`, `.markdown`, `.txt`, `.rst`, `.adoc`, `.tex`, `.org`, `README`, `LICENSE`, `CHANGELOG`, etc.

### Configuration Files (30% weight)
Configuration: `.json`, `.yaml`, `.yml`, `.xml`, `.toml`, `.ini`, `.env`, `package.json`, `Cargo.toml`, `pom.xml`, `Makefile`, `Dockerfile`, etc.

**Rationale**: Not all changed lines have equal value. Code contributions receive full weight, documentation half weight, and configuration files are weighted at 30% to reflect the different technical complexity and value of each contribution type.

## Bug Fix Detection

Git-audit automatically detects bug fix commits using commit message patterns:

**Patterns Recognized**: `fix`, `bug`, `issue #`, `hotfix`, `patch`, `resolve`, `closes #`, `repair`, `correct`, `defect`

**Metrics Generated**:
- `commits_bugfix` - Count of bug fix commits
- `commits_feature` - Non-merge, non-bugfix commits (development work)
- `commits_bugfix_ratio` - Percentage of work that is maintenance

**Quality Impact**: Bugfix ratio contributes 15% to quality score. Optimal range is 15-35%, indicating responsiveness to issues without being entirely reactive.

## Code Review Participation

Git-audit credits code reviewers and pair programmers by parsing commit message trailers:

**Recognized Trailers**:
- `Reviewed-by: Name <email>` - Explicit review credit
- `Co-authored-by: Name <email>` - Pair programming or joint work
- `Acked-by: Name <email>` - Acknowledgment of review

**Metrics Generated**:
- `reviews_given` - Times this developer reviewed others' code
- `commits_coauthored` - Pair programming contributions

**Collaboration Impact**: Review participation contributes 20% to collaboration score, recognizing that reviewers contribute to quality even without authoring commits.

## Dynamic Threshold Calibration

Unlike traditional tools with fixed thresholds (e.g., "50 commits = excellent"), git-audit adapts thresholds to team context:

**Method**: Calculates team distribution percentiles
- **Excellent threshold**: 90th percentile of team (minimum 10)
- **Poor threshold**: 25th percentile of team (minimum 1)

**Example**:
- Small team (3 devs): 90th percentile might be 15 commits → "excellent" = 15
- Large team (50 devs): 90th percentile might be 200 commits → "excellent" = 200

**Benefit**: Fair comparison within team context. A developer with 20 commits is "excellent" on a small team but "average" on a large team. This context-aware approach is backed by research showing metric interpretation varies significantly by organizational size and project type.

## Normalization Methods

Git-audit uses three complementary normalization methods, averaging them to reduce bias:

### 1. Relative Normalization (Team Min-Max)
Compares developer to team best/worst: `(value - min) / (max - min)`

**Advantage**: Fair within-team comparison
**Limitation**: Affected by outliers

### 2. Absolute Normalization (Dynamic Thresholds)
Compares to team-adapted percentile thresholds

**Advantage**: Interpretable reference points
**Limitation**: Requires threshold tuning

### 3. Statistical Normalization (Percentile Rank)
Ranks developer within team distribution

**Advantage**: Robust to outliers
**Limitation**: Non-linear scale

**Why Average All Three?**: Each method has biases. Averaging reduces individual method limitations and provides more stable, fair evaluation.

## Interpretation Guidelines

### Productivity Indicators
- **High productivity** (0.7-1.0): Consistent, high-volume contributor
- **Medium productivity** (0.4-0.7): Solid contributor
- **Low productivity** (0.0-0.4): Junior, part-time, or specialized role

### Quality Indicators
- **High quality** (0.7-1.0): Low churn, focused commits, balanced maintenance
- **Medium quality** (0.4-0.7): Good practices with room for improvement
- **Low quality** (0.0-0.4): Large unfocused commits or excessive churn

### Collaboration Indicators
- **High collaboration** (0.7-1.0): Active reviewer, shared ownership, sustained engagement
- **Medium collaboration** (0.4-0.7): Some integration work
- **Low collaboration** (0.0-0.4): Siloed work or new to project

### Overall Score
- **Top performers** (0.7-1.0): Balanced strength across all dimensions
- **Solid contributors** (0.5-0.7): Good performance with some areas to develop
- **Developing** (0.3-0.5): Junior or specialized contributors
- **Needs support** (0.0-0.3): May need mentoring or role adjustment

## Limitations

### What Git-audit Does NOT Measure
- ❌ Code correctness, performance, or security
- ❌ Non-code contributions (design, mentoring, meetings)
- ❌ Developer satisfaction or burnout
- ❌ Business value or user impact
- ❌ Work-in-progress or abandoned branches

### Known Biases
- **Commit granularity**: Frequent small commits vs. batched commits (mitigated by commit size metrics)
- **Role differences**: Junior vs. senior expectations (requires human judgment)
- **Repository age**: Early contributors accumulate more metrics (mitigated by frequency/span metrics)
- **Documentation contributors**: Now mitigated by 50% weight vs. 100% for code

### Ethical Use
**✅ Appropriate**: Team retrospectives, identifying mentoring opportunities, recognizing diverse contributions
**❌ Inappropriate**: Performance reviews as sole factor, compensation decisions, hiring/firing based purely on metrics

## References

For implementation methodology and design decisions, see [METHODOLOGY.md](METHODOLOGY.md).

For academic research, framework comparisons, and complete bibliography (50+ citations), see [ACADEMIC_RESEARCH.md](ACADEMIC_RESEARCH.md).

Key frameworks referenced:
- **DORA Metrics** - DevOps Research and Assessment (deployment frequency, lead time, etc.)
- **SPACE Framework** - Satisfaction, Performance, Activity, Communication, Efficiency
- **MSR Research** - Mining Software Repositories conference papers
- **Code Quality Research** - Churn ratios, commit size, complexity studies

---

**Last Updated**: October 2025
**Git-audit Version**: Enhanced with file categorization, bug fix detection, code review tracking, and dynamic thresholds
